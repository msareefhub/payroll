"use strict";(self.webpackChunkVankukil_HR_Payroll=self.webpackChunkVankukil_HR_Payroll||[]).push([[7523],{17523:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var l=a(9019),n=a(47313),i=a(31222),o=a(61113),r=a(24499),c=a(72724),d=a(23232),s=a(661),h=a(10658),g=a.n(h),f=a(92718),p=a(12858),x=a(62994),m=a(96216),u=a(29220),b=a(46417);function v(e){let{employeeId:t,modalType:a,modalOpenState:l,modalData:o,setModelState:r,onSave:c}=e;const[d,s]=(0,n.useState)(1===a?0:o.special_bonus),[h,v]=(0,n.useState)(1===a?0:o.special_allowance),[w,j]=(0,n.useState)(1===a?0:o.travel_allowance),[y,S]=(0,n.useState)(1===a?0:o.mobile_allowance),[Z,P]=(0,n.useState)(1===a?0:o.internet_allowance),[k,_]=(0,n.useState)(new Date),z={employeeId:1===a?+t:o.record_id,payDate:k,specialBonus:+d,specialAllowance:+h,travelAllowance:+w,mobileAllowance:+y,internetAllowance:+Z};return(0,b.jsx)(f.default,{title:1===a?"Add Special Allowances":"Edit Special Allowances",open:l,onOk:()=>{1===a?(0,u.tw)(z).then((e=>{e.data&&r(!1)})):(0,u.x4)(z).then((e=>{e.data&&r(!1)})),c()},onCancel:()=>{r(!1)},children:(0,b.jsxs)(i.F0,{children:[(0,b.jsxs)(i.tr,{children:[(0,b.jsx)("label",{htmlFor:"travel-allowance",children:"Date"}),(0,b.jsx)(p.default,{onChange:(e,t)=>{_(t)},defaultValue:g()(1===a?(0,m.mh)(new Date):o.pay_date,"YYYY-MM-DD"),disabledDate:e=>e.isBefore("2024")||e.isAfter("".concat((new Date).getFullYear())),style:{width:"100%"}})]}),(0,b.jsxs)(i.tr,{children:[(0,b.jsx)("label",{htmlFor:"special-bonus",children:"Special Bonus"}),(0,b.jsx)(x.default,{id:"special-bonus",placeholder:"Special Bonus",value:d,onChange:e=>{s(e.target.value)}})]}),(0,b.jsxs)(i.tr,{children:[(0,b.jsx)("label",{htmlFor:"special-allowance",children:"Special Allowance"}),(0,b.jsx)(x.default,{id:"special-allowance",placeholder:"Special Bonus",value:h,onChange:e=>{v(e.target.value)}})]}),(0,b.jsxs)(i.tr,{children:[(0,b.jsx)("label",{htmlFor:"travel-allowance",children:"Travel Allowance"}),(0,b.jsx)(x.default,{id:"travel-allowance",placeholder:"Travel Allowance",value:w,onChange:e=>{j(e.target.value)}})]}),(0,b.jsxs)(i.tr,{children:[(0,b.jsx)("label",{htmlFor:"mobile-allowance",children:"Mobile Allowance"}),(0,b.jsx)(x.default,{id:"mobile-allowance",placeholder:"Mobile Allowance",value:y,onChange:e=>{S(e.target.value)}})]}),(0,b.jsxs)(i.tr,{children:[(0,b.jsx)("label",{htmlFor:"internet-allowance",children:"Internet Allowance"}),(0,b.jsx)(x.default,{id:"internet-allowance",placeholder:"Internet Allowance",value:Z,onChange:e=>{P(e.target.value)}})]})]})})}var w=a(23477),j=a(24076),y=a(67478),S=a(42832),Z=a(57829),P=a(51629),k=a(66835),_=a(57861),z=a(8105),C=a(69918),A=a(87785),M=a(76859),I=a(41627),O=a(45460);const{confirm:T}=f.default,E=[{id:"id",align:"left",disablePadding:!1,label:"S No."},{id:"employee_code",align:"left",disablePadding:!1,label:"Employee Code"},{id:"employee_name",align:"left",disablePadding:!1,label:"Employee Name"},{id:"pay_date",align:"left",disablePadding:!1,label:"Date"},{id:"special_bonus",align:"left",disablePadding:!0,label:"Special Bonus"},{id:"special_allowance",align:"left",disablePadding:!0,label:"Special Allowance"},{id:"travel_allowance",align:"left",disablePadding:!0,label:"Travel Allowance"},{id:"mobile_allowance",align:"left",disablePadding:!0,label:"Mobile Allowance"},{id:"internet_allowance",align:"left",disablePadding:!0,label:"Internet Allowance"},{id:"action",align:"left",disablePadding:!0,label:"Action"}];function B(e){let{order:t,orderBy:a}=e;return(0,b.jsx)(w.Z,{children:(0,b.jsx)(j.Z,{children:E.map((e=>(0,b.jsx)(y.Z,{align:e.align,padding:e.disablePadding?"none":"normal",sortDirection:a===e.id&&t,children:e.label},e.id)))})})}function D(e){let{employeeId:t}=e;const[a]=(0,n.useState)("asc"),[o]=(0,n.useState)("trackingNo"),[c]=(0,n.useState)([]),[h,g]=(0,n.useState)(!1),[f,p]=(0,n.useState)(!1),[x,m]=(0,n.useState)(!1),[w,E]=(0,n.useState)(1),[D,H]=(0,n.useState)(!1),[N,F]=(0,n.useState)(!1),[L,W]=(0,n.useState)([]),[G,R]=(0,n.useState)([]),Y=()=>{g(!0),t.length&&(m(!1),p(!0),(0,u.PQ)(t).then((e=>{e.data.length?(m(!1),W(e.data),p(!1)):(p(!1),m(!0),W([]))})))};return(0,n.useEffect)((()=>{Y()}),[t]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(l.ZP,{item:!0,sx:{mt:4,mb:4},xs:12,md:7,lg:12,children:[x&&(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsx)(z.Z,{})}),f&&(0,b.jsx)(l.ZP,{item:!0,sx:{mt:8,mb:8},xs:12,children:(0,b.jsx)(C.Z,{tip:"Loading",size:"large",children:(0,b.jsx)("div",{className:"content"})})}),(0,b.jsx)(S.Z,{alignItems:"end",children:(0,b.jsx)(l.ZP,{item:!0,xs:12,md:7,lg:12,children:(0,b.jsx)(d.ZP,{type:"primary",onClick:()=>{E(1),H(!0)},children:"Add Allowances"})})}),h&&!f&&!!L.length&&(0,b.jsx)(l.ZP,{item:!0,sx:{mt:2},xs:12,md:7,lg:12,children:(0,b.jsx)(s.Z,{content:!1,children:(0,b.jsx)(Z.Z,{children:(0,b.jsx)(P.Z,{sx:{width:"100%",overflowX:"auto",position:"relative",display:"block",maxWidth:"100%","& td, & th":{whiteSpace:"nowrap"}},children:(0,b.jsxs)(k.Z,{"aria-labelledby":"tableTitle",sx:{"& .MuiTableCell-root:first-of-type":{pl:2},"& .MuiTableCell-root:last-of-type":{pr:3}},children:[(0,b.jsx)(B,{order:a,orderBy:o}),(0,b.jsx)(_.Z,{children:L.map(((e,t)=>{const a=(l=112,-1!==c.indexOf(l));var l;return(0,b.jsxs)(j.Z,{hover:!0,role:"checkbox",sx:{"&:last-child td, &:last-child th":{border:0}},"aria-checked":a,tabIndex:-1,selected:a,children:[(0,b.jsx)(y.Z,{align:"left",children:t+1}),(0,b.jsx)(y.Z,{align:"left",children:e.employee_code}),(0,b.jsx)(y.Z,{align:"left",children:"".concat(e.first_name," ").concat(e.last_name)}),(0,b.jsx)(y.Z,{align:"left",children:e.pay_date}),(0,b.jsx)(y.Z,{align:"left",children:e.special_bonus}),(0,b.jsx)(y.Z,{align:"left",children:e.special_allowance}),(0,b.jsx)(y.Z,{align:"left",children:e.travel_allowance}),(0,b.jsx)(y.Z,{align:"left",children:e.mobile_allowance}),(0,b.jsx)(y.Z,{align:"left",children:e.internet_allowance}),(0,b.jsx)(y.Z,{align:"left",width:"150",children:(0,b.jsxs)(r.Z,{align:"center",children:[(0,b.jsx)(i.a1,{onClick:()=>{E(2),R(e),F(!0)},children:(0,b.jsx)(I.Z,{})}),(0,b.jsx)(A.Z,{type:"vertical"}),(0,b.jsx)(i.a1,{onClick:()=>{var t;t=e.record_id,T({title:"Are you sure remove this Allowance?",icon:(0,b.jsx)(M.Z,{style:{fontSize:"32px"}}),content:"Make sure this action can not be undone.",okText:"Submit",okType:"primary",cancelText:"Cancel",onOk(){(0,u.ic)(t).then((e=>{e.data&&Y()}))},onCancel(){}})},children:(0,b.jsx)(O.Z,{style:{color:"red"}})})]})})]},t)}))})]})})})})})]}),D&&(0,b.jsx)(v,{employeeId:t,modalType:w,modalOpenState:D,modalData:G,setModelState:H,onSave:Y}),N&&(0,b.jsx)(v,{employeeId:t,modalType:w,modalOpenState:N,modalData:G,setModelState:F,onSave:Y})]})}function H(){const[e,t]=(0,n.useState)(!1),[a,h]=(0,n.useState)(0),[g,f]=(0,n.useState)(0),[p,x]=(0,n.useState)([{value:"",label:""}]);return(0,n.useEffect)((()=>{(0,u.Jf)().then((e=>{e.data&&x(e.data.map((e=>({label:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name),value:null===e||void 0===e?void 0:e.id}))))}))}),[]),(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(l.ZP,{item:!0,xs:12,md:7,lg:12,children:[(0,b.jsx)(l.ZP,{item:!0,xs:12,md:7,lg:12,children:(0,b.jsx)(i.$t,{children:(0,b.jsx)(o.Z,{variant:"h5",children:"Special Allowances Details List"})})}),(0,b.jsx)(l.ZP,{item:!0,xs:12,sm:6,md:4,lg:12,children:(0,b.jsx)(s.Z,{sx:{p:4},content:!1,children:(0,b.jsxs)(r.Z,{gap:12,children:[(0,b.jsx)(c.Z,{defaultValue:"Select",style:{width:250},onChange:e=>{h(e)},options:p}),(0,b.jsx)(d.ZP,{type:"primary",onClick:()=>(t(!0),void f(a)),children:"Submit"})]})})}),e&&(0,b.jsx)(D,{employeeId:g})]})})}const N=()=>(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(l.ZP,{container:!0,rowSpacing:2,columnSpacing:2.75,children:(0,b.jsx)(H,{})})})},31222:(e,t,a)=>{a.d(t,{$t:()=>d,F0:()=>g,a1:()=>s,tr:()=>h});var l,n,i,o,r=a(30168),c=a(2905);const d=c.ZP.div(l||(l=(0,r.Z)(["\n  padding: 1em;\n  background-color: #e6f7ff;\n  border-top: 1px solid #b3ddff;\n  border-left: 1px solid #b3ddff;\n  border-right: 2px solid #1890ff;\n  border-bottom: 1px solid #b3ddff;\n  color: #000;\n"]))),s=c.ZP.div(n||(n=(0,r.Z)(["\n  display: block;\n  cursor: pointer;\n\n  svg {\n    font-size: 24px;\n  }\n"]))),h=c.ZP.div(i||(i=(0,r.Z)(["\n  display: flex;\n  margin-top: 20px;\n\n  label {\n    width: 200px;\n  }\n\n  div.ant-select {\n    width: 100%;\n  }\n"]))),g=c.ZP.div(o||(o=(0,r.Z)(["\n  display: grid;\n  padding: 20px 0 20px 0;\n"])))},45460:(e,t,a)=>{a.d(t,{Z:()=>c});var l=a(1413),n=a(47313);const i={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M292.7 840h438.6l24.2-512h-487z",fill:t}},{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-504-72h304v72H360v-72zm371.3 656H292.7l-24.2-512h487l-24.2 512z",fill:e}}]}},name:"delete",theme:"twotone"};var o=a(90393),r=function(e,t){return n.createElement(o.Z,(0,l.Z)((0,l.Z)({},e),{},{ref:t,icon:i}))};r.displayName="DeleteTwoTone";const c=n.forwardRef(r)},41627:(e,t,a)=>{a.d(t,{Z:()=>c});var l=a(1413),n=a(47313);const i={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M761.1 288.3L687.8 215 325.1 577.6l-15.6 89 88.9-15.7z",fill:t}},{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89z",fill:e}}]}},name:"edit",theme:"twotone"};var o=a(90393),r=function(e,t){return n.createElement(o.Z,(0,l.Z)((0,l.Z)({},e),{},{ref:t,icon:i}))};r.displayName="EditTwoTone";const c=n.forwardRef(r)},76859:(e,t,a)=>{a.d(t,{Z:()=>c});var l=a(1413),n=a(47313),i=a(91718),o=a(90393),r=function(e,t){return n.createElement(o.Z,(0,l.Z)((0,l.Z)({},e),{},{ref:t,icon:i.Z}))};r.displayName="ExclamationCircleFilled";const c=n.forwardRef(r)},87785:(e,t,a)=>{a.d(t,{Z:()=>p});var l=a(47313),n=a(72884),i=a.n(n),o=a(74714),r=a(33397),c=a(40601),d=a(83447),s=a(73239);const h=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:a,colorSplit:l,lineWidth:n,textPaddingInline:i,orientationMargin:o,verticalMarginInline:d}=e;return{[t]:Object.assign(Object.assign({},(0,c.Wf)(e)),{borderBlockStart:"".concat((0,r.bf)(n)," solid ").concat(l),"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:d,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:"".concat((0,r.bf)(n)," solid ").concat(l)},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:"".concat((0,r.bf)(e.dividerHorizontalGutterMargin)," 0")},["&-horizontal".concat(t,"-with-text")]:{display:"flex",alignItems:"center",margin:"".concat((0,r.bf)(e.dividerHorizontalWithTextGutterMargin)," 0"),color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:"0 ".concat(l),"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:"".concat((0,r.bf)(n)," solid transparent"),borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},["&-horizontal".concat(t,"-with-text-left")]:{"&::before":{width:"calc(".concat(o," * 100%)")},"&::after":{width:"calc(100% - ".concat(o," * 100%)")}},["&-horizontal".concat(t,"-with-text-right")]:{"&::before":{width:"calc(100% - ".concat(o," * 100%)")},"&::after":{width:"calc(".concat(o," * 100%)")}},["".concat(t,"-inner-text")]:{display:"inline-block",paddingBlock:0,paddingInline:i},"&-dashed":{background:"none",borderColor:l,borderStyle:"dashed",borderWidth:"".concat((0,r.bf)(n)," 0 0")},["&-horizontal".concat(t,"-with-text").concat(t,"-dashed")]:{"&::before, &::after":{borderStyle:"dashed none none"}},["&-vertical".concat(t,"-dashed")]:{borderInlineStartWidth:n,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},["&-plain".concat(t,"-with-text")]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},["&-horizontal".concat(t,"-with-text-left").concat(t,"-no-default-orientation-margin-left")]:{"&::before":{width:0},"&::after":{width:"100%"},["".concat(t,"-inner-text")]:{paddingInlineStart:a}},["&-horizontal".concat(t,"-with-text-right").concat(t,"-no-default-orientation-margin-right")]:{"&::before":{width:"100%"},"&::after":{width:0},["".concat(t,"-inner-text")]:{paddingInlineEnd:a}}})}},g=(0,d.I$)("Divider",(e=>{const t=(0,s.TS)(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[h(t)]}),(e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS})),{unitless:{orientationMargin:!0}});var f=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a};const p=e=>{const{getPrefixCls:t,direction:a,divider:n}=l.useContext(o.E_),{prefixCls:r,type:c="horizontal",orientation:d="center",orientationMargin:s,className:h,rootClassName:p,children:x,dashed:m,plain:u,style:b}=e,v=f(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),w=t("divider",r),[j,y,S]=g(w),Z=d.length>0?"-".concat(d):d,P=!!x,k="left"===d&&null!=s,_="right"===d&&null!=s,z=i()(w,null===n||void 0===n?void 0:n.className,y,S,"".concat(w,"-").concat(c),{["".concat(w,"-with-text")]:P,["".concat(w,"-with-text").concat(Z)]:P,["".concat(w,"-dashed")]:!!m,["".concat(w,"-plain")]:!!u,["".concat(w,"-rtl")]:"rtl"===a,["".concat(w,"-no-default-orientation-margin-left")]:k,["".concat(w,"-no-default-orientation-margin-right")]:_},h,p),C=l.useMemo((()=>"number"===typeof s?s:/^\d+$/.test(s)?Number(s):s),[s]),A=Object.assign(Object.assign({},k&&{marginLeft:C}),_&&{marginRight:C});return j(l.createElement("div",Object.assign({className:z,style:Object.assign(Object.assign({},null===n||void 0===n?void 0:n.style),b)},v,{role:"separator"}),x&&"vertical"!==c&&l.createElement("span",{className:"".concat(w,"-inner-text"),style:A},x)))}}}]);