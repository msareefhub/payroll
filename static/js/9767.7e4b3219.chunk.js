"use strict";(self.webpackChunkVankukil_HR_Payroll=self.webpackChunkVankukil_HR_Payroll||[]).push([[9767],{89767:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var a=n(47313),i=n(31222),d=n(9019),s=n(61113),o=n(57829),l=n(42832),r=n(661),c=n(10658),x=n.n(c),h=n(17798),p=n.n(h),u=n(24499),m=n(12858),f=n(23232),g=n(8105),Z=n(69918),j=n(65838),v=n(96216),b=n(58446),y=n(29220),w=n(46417);x().extend(p());const S={chart:{type:"bar",height:365,toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"45%",borderRadius:4}},dataLabels:{enabled:!1},xaxis:{categories:["Mon","Tue","Wed","Thu","Fri"],axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{show:!1},grid:{show:!1}},k=()=>{const e="YYYY-MM-DD",[t,n]=(0,a.useState)(!1),[c,h]=(0,a.useState)(!1),[p,k]=(0,a.useState)(S),[P,_]=(0,a.useState)([]),[D,H]=(0,a.useState)([]),[L,B]=(0,a.useState)([]),[R,Y]=(0,a.useState)((0,v.Gf)(new Date,6)),[C,O]=(0,a.useState)((0,v.pZ)(new Date));return(0,w.jsx)("div",{children:(0,w.jsx)("div",{id:"chart",children:(0,w.jsxs)(d.ZP,{container:!0,rowSpacing:2.5,columnSpacing:2.75,children:[(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)(i.$t,{children:(0,w.jsx)(s.Z,{variant:"h5",children:"Weekly Login Time Report"})})}),(0,w.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:4,lg:11.9,children:(0,w.jsx)(r.Z,{sx:{p:4},content:!1,children:(0,w.jsxs)(u.Z,{gap:12,children:[(0,w.jsx)(m.default,{onChange:(e,t)=>{let n=t.split("~");Y((0,v.pZ)(new Date(n[0]))),O((0,v.pZ)(new Date(n[1])))},defaultValue:x()(),format:t=>"".concat(x()(t).startOf("week").format(e)," ~ ").concat(x()(t).endOf("week").format(e)),picker:"week",disabledDate:e=>e.isBefore("2024")||e.isAfter("".concat((new Date).getFullYear()))}),(0,w.jsx)(f.ZP,{type:"primary",onClick:()=>(h(!0),(0,y.Jf)().then((e=>{e.data.length&&_(e.data)})),(0,y.Jl)(R,C).then((e=>{e.data.length?(n(!1),h(!1),H(e.data),k((e=>({...e,xaxis:{categories:null===D||void 0===D?void 0:D.filter((e=>"Saturday"!==(0,v.tB)(null===e||void 0===e?void 0:e.date)&&"Sunday"!==(0,v.tB)(null===e||void 0===e?void 0:e.date))).map((e=>(0,v.PC)(e.date)))},tooltip:{theme:"light"}})))):(n(!0),h(!1))})),void(0,y.gy)(R,C).then((e=>{e.data.length&&B(e.data)}))),children:"Submit"})]})})})]}),t&&(0,w.jsx)(d.ZP,{item:!0,sx:{mt:2},xs:12,children:(0,w.jsx)(g.Z,{})}),c&&(0,w.jsx)(d.ZP,{item:!0,sx:{mt:8},xs:12,children:(0,w.jsx)(Z.Z,{tip:"Loading",size:"large",children:(0,w.jsx)("div",{className:"content"})})}),!c&&!t&&!!D.length&&P.map(((e,t)=>(0,w.jsx)(d.ZP,{item:!0,xs:12,md:5,lg:4,children:L.filter((t=>t.employee_id==="".concat(e.id))).map(((t,n)=>(0,w.jsxs)(r.Z,{sx:{mt:2},content:!1,children:[(0,w.jsx)(o.Z,{sx:{p:3,pb:0},children:(0,w.jsxs)(l.Z,{spacing:2,children:[(0,w.jsxs)(s.Z,{variant:"h4",color:"gray[800]",children:[e.first_name," ",e.last_name," | ",e.employee_code]}),(0,w.jsxs)(s.Z,{variant:"h6",children:[(0,v.Mj)(t.Log_Hours)," of ",j.aD.USER_LOGIN_HOURS*j.aD.WEEK_DAYS," Hour(s)"]})]})}),(0,w.jsx)(b.Z,{options:p,series:[{name:"Loged Hours",data:D.filter((t=>t.employee_id==="".concat(e.id)&&"Saturday"!==(0,v.tB)(null===t||void 0===t?void 0:t.date)&&"Sunday"!==(0,v.tB)(null===t||void 0===t?void 0:t.date))).map((e=>(0,v.fj)(null===e||void 0===e?void 0:e.Log_Hours)))}],type:"bar",height:365})]},n)))},t)))]})})})},P=()=>(0,w.jsx)(k,{})},31222:(e,t,n)=>{n.d(t,{$t:()=>r,F0:()=>h,a1:()=>c,tr:()=>x});var a,i,d,s,o=n(30168),l=n(2905);const r=l.ZP.div(a||(a=(0,o.Z)(["\n  padding: 1em;\n  background-color: #e6f7ff;\n  border-top: 1px solid #b3ddff;\n  border-left: 1px solid #b3ddff;\n  border-right: 2px solid #1890ff;\n  border-bottom: 1px solid #b3ddff;\n  color: #000;\n"]))),c=l.ZP.div(i||(i=(0,o.Z)(["\n  display: block;\n  cursor: pointer;\n\n  svg {\n    font-size: 24px;\n  }\n"]))),x=l.ZP.div(d||(d=(0,o.Z)(["\n  display: flex;\n  margin-top: 20px;\n\n  label {\n    width: 200px;\n  }\n\n  div.ant-select {\n    width: 100%;\n  }\n"]))),h=l.ZP.div(s||(s=(0,o.Z)(["\n  display: grid;\n  padding: 20px 0 20px 0;\n"])))}}]);